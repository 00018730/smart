const translations = {
  en: {
    // Header & Hero
    centerName: "Smart Learning Center",
    navHome: "Home",
    navCourses: "Courses",
    navTeachers: "Teachers",
    navAbout: "About",
    navContact: "Contact",
    practiceBtn: "Practice Tests",
    heroTitle: "Learn English.<br>Build Confidence.<br>Achieve Results.",
    heroText: "IELTS preparation and English courses designed for real progress — not memorization.",
    enrollBtn: "Enroll Now",

    // About Section
    aboutTitle: "About Smart Learning Center",
    aboutText: "We are a modern learning center focused on helping students achieve real English fluency and strong IELTS results through structured lessons, expert guidance, and consistent practice.",

    // Courses Section
    coursesTitle: "Our courses",
    coursesSubtitle: "Discover the courses available at Smart Learning Center and choose the one that suits you best",
    courseGE: "General English",
    courseGE_1: "The course spans 4 levels (Beginner to Intermediate), each lasting 3 months.",
    courseGE_2: "Classes are held 3 times a week for 80 minutes.",
    courseGE_3: "Free textbooks and a custom workbook are provided to students.",
    courseI1: "IELTS Level 1",
    courseI1_1: "Gain basic knowledge about the IELTS format.",
    courseI1_2: "Learn strategies to effectively tackle the IELTS test.",
    courseI1_3: "Participate in mock tests to simulate the real exam experience.",
    courseI2: "IELTS Level 2",
    courseI2_1: "Learn about IELTS in more detail.",
    courseI2_2: "More comprehensive strategies to effectively tackle the IELTS test.",
    courseI2_3: "Every student receives books and copybooks at no additional cost.",

    // Students Section
    studentsTitle: "Our students",
    studentsSubtitle: "Discover the results of our students and get motivated",
    overallScore: "Overall IELTS Score",
    cefrLevel: "CEFR Level",
    student1Testimonial: "The IELTS course at Smart learning center is amazing! I got my desired score thanks to my teacher.",
    student2Testimonial: "I improved my listening significantly. The mock tests and environment are great.",
    student3Testimonial: "Thanks to the intensive practice, I achieved a band 8.0 in Reading and Speaking.",
    student4Testimonial: "The best environment for IELTS preparation in the city! Highly recommended."
  },

  uz: {
    centerName: "Smart O‘quv Markazi",
    navHome: "Bosh sahifa",
    navCourses: "Kurslar",
    navTeachers: "O'qituvchilar",
    navAbout: "Biz haqimizda",
    navContact: "Aloqa",
    practiceBtn: "Sinov testlari",
    heroTitle: "Ingliz tilini o‘rganing.<br>Ishonch hosil qiling.<br>Natijaga erishing.",
    heroText: "Haqiqiy rivojlanish uchun tuzilgan IELTS va ingliz tili kurslari — yodlash emas, o'rganish.",
    enrollBtn: "Ro‘yxatdan o‘tish",

    aboutTitle: "Smart O‘quv Markazi haqida",
    aboutText: "Biz o'quvchilarga tizimli darslar va ekspert yo'l-yo'riqlari orqali ingliz tilida erkin so'zlashish hamda IELTSdan yuqori natijalarga erishishda yordam beramiz.",

    coursesTitle: "Bizning kurslar",
    coursesSubtitle: "Smart o'quv markazidagi mavjud kurslar bilan tanishing va o'zingizga mosini tanlang",
    courseGE: "Umumiy Ingliz tili",
    courseGE_1: "Kurs 4 darajadan iborat (Beginnerdan Intermediatedacha), har biri 3 oy davom etadi.",
    courseGE_2: "Darslar haftada 3 marta 80 daqiqadan o'tiladi.",
    courseGE_3: "Talabalarga bepul darsliklar va maxsus ish daftarlari beriladi.",
    courseI1: "IELTS 1-daraja",
    courseI1_1: "IELTS formati haqida asosiy bilimlarga ega bo'ling.",
    courseI1_2: "IELTS testini muvaffaqiyatli topshirish strategiyalarini o'rganing.",
    courseI1_3: "Haqiqiy imtihon muhitini his qilish uchun mock testlarda qatnashing.",
    courseI2: "IELTS 2-daraja",
    courseI2_1: "IELTS haqida batafsilroq ma'lumotga ega bo'ling.",
    courseI2_2: "IELTS testini topshirish uchun yanada mukammalroq strategiyalar.",
    courseI2_3: "Har bir talaba qo'shimcha xarajatlarsiz kitob va daftarlar bilan ta'minlanadi.",

    studentsTitle: "Bizning o'quvchilar",
    studentsSubtitle: "O'quvchilarimiz natijalarini ko'ring va motivatsiya oling",
    overallScore: "Umumiy IELTS bali",
    cefrLevel: "CEFR darajasi",
    student1Testimonial: "Smart o'quv markazidagi IELTS kursi ajoyib! O'qituvchim yordamida kutilgan natijaga erishdim.",
    student2Testimonial: "Listening darajam sezilarli darajada oshdi. Mock testlar va muhit juda zo'r.",
    student3Testimonial: "Intensiv amaliyot tufayli Reading va Speakingdan 8.0 ballga erishdim.",
    student4Testimonial: "Shahar ichida IELTSga tayyorlanish uchun eng yaxshi joy! Tavsiya qilaman."
  },

  ru: {
    centerName: "Учебный Центр Smart",
    navHome: "Главная",
    navCourses: "Курсы",
    navTeachers: "Учителя",
    navAbout: "О нас",
    navContact: "Контакты",
    practiceBtn: "Пробные тесты",
    heroTitle: "Изучайте английский.<br>Уверенность.<br>Результат.",
    heroText: "Подготовка к IELTS и курсы английского для реального прогресса, а не зубрежки.",
    enrollBtn: "Записаться",

    aboutTitle: "Об учебном центре Smart",
    aboutText: "Мы — современный центр обучения, помогающий студентам достичь свободного владения английским и высоких баллов IELTS через структурированные уроки.",

    coursesTitle: "Наши курсы",
    coursesSubtitle: "Ознакомьтесь с курсами в центре Smart и выберите подходящий для вас",
    courseGE: "Общий английский",
    courseGE_1: "Курс состоит из 4 уровней, каждый длится 3 месяца.",
    courseGE_2: "Занятия проводятся 3 раза в неделю по 80 минут.",
    courseGE_3: "Студентам предоставляются бесплатные учебники и рабочие тетради.",
    courseI1: "IELTS Уровень 1",
    courseI1_1: "Получите базовые знания о формате IELTS.",
    courseI1_2: "Изучите стратегии для успешной сдачи теста.",
    courseI1_3: "Участвуйте в пробных тестах (mock exams).",
    courseI2: "IELTS Уровень 2",
    courseI2_1: "Более глубокое изучение формата IELTS.",
    courseI2_2: "Комплексные стратегии для получения высоких баллов.",
    courseI2_3: "Каждый студент получает книги и тетради бесплатно.",

    studentsTitle: "Наши студенты",
    studentsSubtitle: "Посмотрите на результаты наших студентов и вдохновитесь",
    overallScore: "Общий балл IELTS",
    cefrLevel: "Уровень CEFR",
    student1Testimonial: "Курс IELTS в Smart просто супер! Я получила желаемый балл благодаря учителю.",
    student2Testimonial: "Я значительно улучшил аудирование. Пробные тесты и атмосфера отличные.",
    student3Testimonial: "Благодаря интенсивной практике я получила 8.0 по чтению и говорению.",
    student4Testimonial: "Лучшее место для подготовки к IELTS в городе! Рекомендую."
  }
};

const FLAGS = {
  en: "assets/flags/uk.jpg",
  uz: "assets/flags/uzb.jpg",
  ru: "assets/flags/ru.jpg"
};

function updatePageContent(lang) {
  // Update all elements with data-i18n
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.dataset.i18n;
    if (translations[lang][key]) {
      el.innerHTML = translations[lang][key];
    }
  });

  // Update current flag
  const currentFlag = document.getElementById("currentFlag");
  if (currentFlag) currentFlag.src = FLAGS[lang];
  
  localStorage.setItem("lang", lang);
}

document.addEventListener("DOMContentLoaded", () => {
  const toggle = document.getElementById("langToggle");
  const dropdown = document.getElementById("langDropdown");

  // Load saved language
  const savedLang = localStorage.getItem("lang") || "en";
  updatePageContent(savedLang);

  // Toggle dropdown
  toggle.addEventListener("click", (e) => {
    e.stopPropagation();
    dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
  });

  // Language buttons logic
  document.querySelectorAll("[data-lang]").forEach(btn => {
    btn.addEventListener("click", () => {
      const lang = btn.dataset.lang;
      updatePageContent(lang);
      dropdown.style.display = "none";
    });
  });

  // Close when clicking outside
  document.addEventListener("click", () => {
    dropdown.style.display = "none";
  });
});